define(["jquery","core/webapi","core/notification"],function(a,b,c){return{init:function(b,c){const d=this;a(function(){const e=a('select[name="config_team"]');d.updateBriefingsAndFolders(e.val(),b,c),e.change(function(){d.updateBriefingsAndFolders(a(this).val(),b,c)})})},updateBriefingsAndFolders:function(d,e,f){const g=this;void 0===d&&(d=0),b.call({operationName:"block_anderspink_get_apidata",variables:{teamid:d}}).then(function(b){const c=b.block_anderspink_get_apidata,d=a('select[name="config_briefing"]'),h=a('select[name="config_board"]');d.find("option").remove(),h.find("option").remove(),c.boards.forEach(function(a){var b="",c=a.id.split("|")[0];b="board"===f&&e==c?g.generateOptionElement(a.name,a.id,"selected"):g.generateOptionElement(a.name,a.id),h.append(b)}),c.briefings.forEach(function(a){var b,c=a.id.split("|")[0];b="briefing"===f&&e==c?g.generateOptionElement(a.name,a.id,"selected"):g.generateOptionElement(a.name,a.id),d.append(b)})})["catch"](c.exception)},generateOptionElement:function(b,c,d){const e=a("<option></option>").val(c).html(b);return d&&e.prop("selected",!0),e}}});